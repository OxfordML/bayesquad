
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>bayesquad.batch_selection module &#8212; Batch Bayesian quadrature  documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Batch Bayesian quadrature  documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-bayesquad.batch_selection">
<span id="bayesquad-batch-selection-module"></span><h1>bayesquad.batch_selection module<a class="headerlink" href="#module-bayesquad.batch_selection" title="Permalink to this headline">¶</a></h1>
<p>Methods for selecting a batch of points to evaluate for Bayesian quadrature.</p>
<dl class="function">
<dt id="bayesquad.batch_selection.select_batch">
<code class="descclassname">bayesquad.batch_selection.</code><code class="descname">select_batch</code><span class="sig-paren">(</span><em>integrand_model: bayesquad.quadrature.IntegrandModel</em>, <em>batch_size: int</em>, <em>batch_method: str = 'Local Penalisation'</em><span class="sig-paren">)</span> &#x2192; List[numpy.ndarray]<a class="reference internal" href="_modules/bayesquad/batch_selection.html#select_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesquad.batch_selection.select_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a batch of points at which to evaluate the integrand.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>integrand_model</strong> – The model with which we wish to perform Bayesian quadrature.</li>
<li><strong>batch_size</strong> – The number of points to return in the new batch.</li>
<li><strong>batch_method</strong> – <dl class="docutils">
<dt>The method by which to compute the new batch. Currently supported methods are:</dt>
<dd><ul class="first last">
<li>”Local Penalisation”</li>
</ul>
</dd>
</dl>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of arrays. Each array is a point of the new batch.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list[ndarray]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="bayesquad.batch_selection.select_local_penalisation_batch">
<code class="descclassname">bayesquad.batch_selection.</code><code class="descname">select_local_penalisation_batch</code><span class="sig-paren">(</span><em>integrand_model: bayesquad.quadrature.IntegrandModel</em>, <em>batch_size: int</em><span class="sig-paren">)</span> &#x2192; List[numpy.ndarray]<a class="reference internal" href="_modules/bayesquad/batch_selection.html#select_local_penalisation_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#bayesquad.batch_selection.select_local_penalisation_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Select a batch of points based on a local penalisation method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>integrand_model</strong> – The model with which we wish to perform Bayesian quadrature.</li>
<li><strong>batch_size</strong> – The number of points to return in the new batch.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A list of arrays. Each array is a point of the new batch.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list[ndarray]</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>In this method, we sequentially select batch points by maximising an acquisition function (currently, this is fixed
to be the posterior variance of the integrand). In order to avoid repeatedly selecting the same point (or very
nearby points) repeatedly, we update the acquisition function after selecting each point to penalise that point and
a region around it. In the method used here, we first find the maximal gradient of the acquisition function, and
then take the penalised function to be the minimum of the original function and a cone with half of this maximal
gradient around the selected point. We choose half the gradient since the true function must have zero gradient
at the selected point and at the nearest maximum, so the average gradient here will not be as large as the maximum.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/bayesquad.batch_selection.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Batch Bayesian quadrature  documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Ed Wagstaff.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.8.
    </div>
  </body>
</html>